<apex:page standardcontroller="Contact" extensions="SearchContactControllerExtn" sidebar="false" showHeader="false">

<apex:form >
<apex:sectionHeader title="Step 3" subtitle="Capture Service required and Payment Type"/>
<apex:pageblock >
<apex:pageBlockSection title="Choose a Service and enter Payment Type" columns="1"></apex:pageBlockSection>

<!-- Div to give a colored box effect -->

<div style="border-width:2px;border-style:solid;border-color:orange;">
    <apex:outputLabel style="font-weight:bold;" value="For priest services in DC Metro Area, please contact xxx-xxx-xxxx" ></apex:outputLabel>
    <!-- Panel grid to display boxes o accept user input values -->
    <apex:panelGrid columns="4" rendered="{!IF(CONTAINS(UserType,'Member'),true,false)}">
        <apex:outputLabel style="font-weight:bold;" value="E-mail" ></apex:outputLabel>
       <apex:outputText value="{!userinput}"/>
        <apex:outputLabel style="font-weight:bold;" value="Full Name" ></apex:outputLabel>
        <apex:outputText value="{!name}"/> 
        </apex:panelGrid>
        <apex:panelGrid columns="4" rendered="{!IF(CONTAINS(UserType,'Devotee'),true,false)}">
        <apex:outputLabel style="font-weight:bold;" value="E-mail" ></apex:outputLabel>
       <apex:outputText value="{!userinput}"/>
        <apex:outputLabel style="font-weight:bold;" value="Last Name" ></apex:outputLabel>
        <apex:outputText value="{!userinp}"/> 
        </apex:panelGrid>
     <apex:panelGrid columns="4">
        <apex:outputLabel style="font-weight:bold;" value="Select a service : " ></apex:outputLabel>
     <!--     <apex:selectList value="{!selectedServices}" multiselect="false" size="1">
                <apex:selectOptions value="{!TmplServOptions}"/>
                <apex:actionSupport action="{!getPriceMethod}" event="onclick" reRender="outptText" />
            </apex:selectList>-->
        <apex:commandButton value="ABHISHEKAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Abhishekam.jpg')}" reRender="outptText">
        	<apex:param name="posselect" value="ABHISHEKAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="PUSHPANJALI" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Pushpanjali.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="PUSHPANJALI"/> 
        	</apex:commandButton>
        <apex:commandButton value="ASHTOTHARAM ARCHANA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Archana.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="ASHTOTHARAM ARCHANA"/> 
        	</apex:commandButton>
        <apex:commandButton value="VEHICLE POOJA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Vehicle.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="VEHICLE POOJA"/> 
        	</apex:commandButton>
        <apex:commandButton value="SATYANARAYANA POOJA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Narayana.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="SATYANARAYANA POOJA"/> 
        	</apex:commandButton>
        <apex:commandButton value="TEMPLE SATYANARAYANA POOJA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/TempleSatya.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="TEMPLE SATYANARAYANA POOJA"/> 
        	</apex:commandButton>
        <apex:commandButton value="NAAMAKARANAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Naamakaranam.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="NAAMAKARANAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="NIRA PARA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Nirapara.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="NIRA PARA"/> 
        	</apex:commandButton>
        <apex:commandButton value="NISHCHITARTHAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Nischitartham.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="NISHCHITARTHAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="PANNA PARA" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Pannapara.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="PANNA PARA"/> 
        	</apex:commandButton>
        <apex:commandButton value="TEMPLE ABHISHEKAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/TempleAbhishekam.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="TEMPLE ABHISHEKAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="TEMPLE VIDYAARAMBAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/TempleVidya.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="TEMPLE VIDYAARAMBAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="VIDYAARAMBAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Vidyaarambam.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="VIDYAARAMBAM"/> 
        	</apex:commandButton>
        <apex:commandButton value="ANNAPRAASANAM" action="{!getPriceMethod}" image="{!URLFOR($Resource.posimages,'images/Annapraasanam.jpg')}" reRender="outptText">
        <apex:param name="posselect" value="ANNAPRAASANAM"/> 
        	</apex:commandButton>
   </apex:panelGrid>
   <apex:panelGrid columns="2">
    <apex:outputLabel style="font-weight:bold;" value="Select Quantity : " ></apex:outputLabel>
    <apex:selectList value="{!selectedQty}" multiselect="false" size="1">
                <apex:selectOptions value="{!ServQty}"/>
                <apex:actionSupport action="{!getPriceMethod2}" event="onclick" reRender="outptText" />
            </apex:selectList>
    </apex:panelGrid>
</div>


<div style="border-width:2px;border-style:solid;border-color:blue;">
 <apex:outputLabel style="font-weight:bold;" value="How do you want to pay for this service?" ></apex:outputLabel>
    <!-- Panel grid to display boxes to accept user Payment Type -->

        <apex:outputLabel style="font-weight:bold;" value="Select Payment Type : " ></apex:outputLabel>
        <apex:selectList value="{!selectedPT}" multiselect="false" size="1">
                <apex:selectOptions value="{!TmplPTOptions}"/>
               <!--    <apex:actionSupport action="{!dispPaymentFields}" event="onclick" reRender="CC,CHQDet" />-->
                  
            </apex:selectList>

</div>

<!-- Display error message -->
<apex:pagemessage strength="2" title="Error!!" severity="error" detail="Please select a contact or enter email address to proceed" rendered="{!errormsg}"/>
<!-- End of error message -->

<apex:pageblock >
      <apex:pageblocktable value="{!PricebookEntryList}" var="pbe" id="outptText">
        <apex:column headervalue="Selected Service">
                <apex:outputtext value="{!pbe.ProductCode}"/>
            </apex:column>
         <apex:column headervalue="Unit Price">
                <apex:outputtext value="{!pbe.UnitPrice}"/>
            </apex:column>   
          <apex:column headervalue="Total Price">
          	<apex:outputtext value="{!pbe.TotPrice__c}"/>
          </apex:column>
      </apex:pageblocktable>
</apex:pageblock>

  <!-- Commandbutton to proceed to next screen -->
  <div style="position:relative;left:75px;">
      <apex:commandButton value="Enter Payment Information" action="{!capturePayment}"/>
      <apex:commandbutton value="Back" action="{!processStep2}"/>
      <apex:commandbutton value="Cancel" action="{!gotoStep1}"/>
  </div>
<!-- End of Commandbutton -->
</apex:pageblock>
</apex:form>
</apex:page>